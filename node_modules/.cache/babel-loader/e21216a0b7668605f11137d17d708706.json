{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Alice-Maria\\\\Downloads\\\\licenta-fe\\\\libs\\\\authentication\\\\src\\\\containers\\\\login\\\\new-restaurant.js\";\nimport \"core-js/modules/es.array.iterator.js\";\nimport \"core-js/modules/web.dom-collections.iterator.js\";\nimport { Menubar } from 'primereact/menubar';\nimport { InputText } from 'primereact/inputtext';\nimport { Button } from 'primereact/button';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { RootState } from '../../../../../apps/mycontentful/src/app/reducers';\nimport { MouseEvent } from 'react';\nimport { authSlice } from '../redux/slice';\nimport { Navigate } from 'react-router-dom';\nimport Map from './Map';\nimport Restaurants from './restaurants';\nimport Header from './header';\nimport Preferences from './preferences';\nimport { Splitter, SplitterPanel } from 'primereact/splitter';\nimport React, { useRef, useState } from 'react';\nimport { Toast } from 'primereact/toast';\nimport { FileUpload } from 'primereact/fileupload';\nimport { ProgressBar } from 'primereact/progressbar';\nimport { Tooltip } from 'primereact/tooltip';\nimport { Tag } from 'primereact/tag';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function NewRestaurant(props) {\n  const {\n    isLoggedIn,\n    user\n  } = useSelector(state => state.auth);\n  const toast = useRef < Toast > null;\n  const fileUploadRef = useRef(null);\n  const [totalSize, setTotalSize] = useState(0);\n\n  const emptyTemplate = () => {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"flex align-items-center flex-column\",\n      children: [/*#__PURE__*/_jsxDEV(\"i\", {\n        className: \"pi pi-image mt-3 p-5\",\n        style: {\n          'fontSize': '5em',\n          borderRadius: '50%',\n          backgroundColor: 'var(--surface-b)',\n          color: 'var(--surface-d)'\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 31,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n        style: {\n          'fontSize': '1.2em',\n          color: 'var(--text-color-secondary)'\n        },\n        className: \"my-5\",\n        children: \"Drag and Drop Image Here\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 32,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 30,\n      columnNumber: 13\n    }, this);\n  };\n\n  const onTemplateUpload = e => {\n    console.log(e);\n    console.log('here is the issue');\n    let _totalSize = 0;\n    Array.prototype.forEach.call(e.files, file => {\n      _totalSize += file.size || 0;\n    });\n    console.log(e);\n    setTotalSize(_totalSize);\n    toast.current.show({\n      severity: 'info',\n      summary: 'Success',\n      detail: 'File Uploaded'\n    });\n  };\n\n  const onTemplateSelect = e => {\n    let _totalSize = totalSize;\n    console.log('here is the issue 3');\n    Array.prototype.forEach.call(e.files, file => {\n      _totalSize += file.size || 0;\n    });\n    console.log(e);\n    setTotalSize(_totalSize);\n  };\n\n  const onTemplateClear = () => {\n    setTotalSize(0);\n  };\n\n  const headerTemplate = options => {\n    const {\n      className,\n      chooseButton,\n      uploadButton,\n      cancelButton\n    } = options;\n    const value = totalSize / 10000;\n    const formatedValue = fileUploadRef && fileUploadRef.current ? fileUploadRef.current.formatSize(totalSize) : '0 B';\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: className,\n      style: {\n        backgroundColor: 'transparent',\n        display: 'flex',\n        alignItems: 'center'\n      },\n      children: [chooseButton, uploadButton, cancelButton, /*#__PURE__*/_jsxDEV(ProgressBar, {\n        value: value,\n        displayValueTemplate: () => `${formatedValue} / 1 MB`,\n        style: {\n          width: '300px',\n          height: '20px',\n          marginLeft: 'auto'\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 76,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 72,\n      columnNumber: 13\n    }, this);\n  };\n\n  const itemTemplate = (file, props) => {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"flex align-items-center flex-wrap\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex align-items-center\",\n        style: {\n          width: '40%'\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"img\", {\n          alt: file.name,\n          role: \"presentation\",\n          src: file.objectURL,\n          width: 100\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 85,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"flex flex-column text-left ml-3\",\n          children: [file.name, /*#__PURE__*/_jsxDEV(\"small\", {\n            children: new Date().toLocaleDateString()\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 88,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 86,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 84,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(Tag, {\n        value: props.formatSize,\n        severity: \"warning\",\n        className: \"px-3 py-2\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 91,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(Button, {\n        type: \"button\",\n        icon: \"pi pi-times\",\n        className: \"p-button-outlined p-button-rounded p-button-danger ml-auto\",\n        onClick: () => onTemplateRemove(file, props.onRemove)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 92,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 83,\n      columnNumber: 13\n    }, this);\n  };\n\n  const chooseOptions = {\n    icon: 'pi pi-fw pi-images',\n    iconOnly: false,\n    className: 'custom-choose-btn p-button-rounded p-button-outlined'\n  };\n  const uploadOptions = {\n    icon: 'pi pi-fw pi-cloud-upload',\n    iconOnly: false,\n    className: 'custom-upload-btn p-button-success p-button-rounded p-button-outlined'\n  };\n  const cancelOptions = {\n    icon: 'pi pi-fw pi-times',\n    iconOnly: false,\n    className: 'custom-cancel-btn p-button-danger p-button-rounded p-button-outlined'\n  };\n\n  const onBasicUpload = () => {\n    toast.current.show({\n      severity: 'info',\n      summary: 'Success',\n      detail: 'File Uploaded with Basic Mode'\n    });\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(Header, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 107,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      children: \"Hi, manager! here you can add a restaurant\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 108,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"h5\", {\n      children: \"Template\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 111,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"h5\", {\n      children: \"Basic\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 112,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(FileUpload, {\n      mode: \"basic\",\n      name: \"demo[]\",\n      url: \"https://primefaces.org/primereact/showcase/upload.php\",\n      accept: \"image/*\",\n      maxFileSize: 1000000,\n      onUpload: onBasicUpload\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 113,\n      columnNumber: 17\n    }, this), /*#__PURE__*/_jsxDEV(FileUpload, {\n      ref: fileUploadRef,\n      customUpload: true,\n      name: \"demo[]\",\n      url: \"https://primefaces.org/primereact/showcase/upload.php\",\n      multiple: true,\n      accept: \"image/*\",\n      maxFileSize: 2000000,\n      onUpload: onTemplateUpload,\n      onSelect: onTemplateSelect,\n      onError: onTemplateClear,\n      onClear: onTemplateClear,\n      headerTemplate: headerTemplate,\n      itemTemplate: itemTemplate,\n      emptyTemplate: emptyTemplate,\n      chooseOptions: chooseOptions,\n      uploadOptions: uploadOptions,\n      cancelOptions: cancelOptions\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 115,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 106,\n    columnNumber: 9\n  }, this);\n}","map":null,"metadata":{},"sourceType":"module"}