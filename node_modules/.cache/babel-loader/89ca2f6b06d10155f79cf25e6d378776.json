{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Alice-Maria\\\\Downloads\\\\licenta-fe\\\\libs\\\\authentication\\\\src\\\\containers\\\\login\\\\houses-guest.tsx\";\nimport \"core-js/modules/es.array.iterator.js\";\nimport \"core-js/modules/web.dom-collections.iterator.js\";\nimport \"core-js/modules/es.regexp.to-string.js\";\nimport \"core-js/modules/es.symbol.description.js\";\nimport 'primeflex/primeflex.css';\nimport 'primeicons/primeicons.css';\nimport { Button } from 'primereact/button';\nimport { DataView } from 'primereact/dataview';\nimport 'primereact/resources/primereact.css';\nimport 'primereact/resources/themes/lara-light-indigo/theme.css';\nimport React, { useEffect, useState } from 'react';\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { useNavigate } from \"react-router-dom\";\nimport { getHouses, createNewBooking } from '../redux/slice';\nimport './DataViewDemo.css';\nimport './styles.scss';\nimport './refugees.css';\nimport { Dialog } from \"primereact/dialog\";\nimport { Calendar } from \"primereact/calendar\";\nimport { InputNumber } from \"primereact/inputnumber\";\nimport { InputText } from \"primereact/inputtext\";\nimport { InputTextarea } from \"primereact/inputtextarea\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst Houses = () => {\n  let navigate = useNavigate();\n  const dispatch = useDispatch();\n  const {\n    houses,\n    user\n  } = useSelector(state => state.auth);\n  const [layout, setLayout] = useState('grid');\n  const [id, setId] = useState(0);\n  const [enableReservation, setEnableReservation] = useState(false);\n  const [numberOfPeople, setNumberOfPeople] = useState(0);\n  const [message, setMessage] = useState('');\n  const [showMessage, setShowMessage] = useState(false);\n  const [dates, setDates] = useState(undefined);\n  const [phone, setPhone] = useState('');\n  const [houseId, setHouseId] = useState(0);\n  useEffect(() => {\n    dispatch(getHouses());\n  }, []);\n\n  const renderFooter = name => {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"p\", {\n        style: {\n          lineHeight: 1.5,\n          textIndent: '1rem',\n          textAlign: 'center'\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"i\", {\n          className: \"pi pi-exclamation-circle\",\n          children: \" \"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 53,\n          columnNumber: 21\n        }, this), \"\\xA0The accomodation request will be registered under name \", /*#__PURE__*/_jsxDEV(\"b\", {\n          children: user.username\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 54,\n          columnNumber: 82\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 52,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(Calendar, {\n        className: \"center\",\n        id: \"minmax\",\n        showIcon: true,\n        value: dates,\n        onChange: e => setDates(e.value),\n        selectionMode: \"range\",\n        readOnlyInput: true,\n        placeholder: 'Staying dates'\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 56,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(InputNumber, {\n        className: \"center\",\n        inputId: \"minmax-buttons\",\n        value: numberOfPeople,\n        onValueChange: e => setNumberOfPeople(e.value),\n        mode: \"decimal\",\n        showButtons: true,\n        min: 0,\n        max: 100,\n        placeholder: 'Person number',\n        required: true\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 58,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          width: '45rem',\n          marginTop: \"1rem\"\n        },\n        children: /*#__PURE__*/_jsxDEV(InputText, {\n          style: {\n            width: '49.5rem',\n            marginLeft: '1rem'\n          },\n          id: \"phone\",\n          \"aria-describedby\": \"Description-help\",\n          onChange: e => setPhone(e.target.value),\n          placeholder: 'Your phone',\n          required: true,\n          value: phone\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 62,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 61,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          marginTop: '1rem',\n          lineHeight: 1.5,\n          textIndent: '1rem',\n          textAlign: 'center'\n        },\n        children: /*#__PURE__*/_jsxDEV(\"p\", {\n          children: \" Add a message for the owner. Who are you travelling with? Do you have pets? Anything useful. \"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 67,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 66,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(InputTextarea, {\n        style: {\n          width: '49.5rem',\n          marginTop: \"1rem\"\n        },\n        value: message,\n        onChange: e => setMessage(e.target.value),\n        rows: 5,\n        cols: 32\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 69,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          display: 'block'\n        },\n        children: [/*#__PURE__*/_jsxDEV(Button, {\n          label: \"Confirm\",\n          className: \"mt\",\n          icon: \"pi pi-check\",\n          onClick: submitReservation,\n          autoFocus: true\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 72,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(Button, {\n          label: \"Cancel\",\n          className: \"button-inline p-button-secondary mt\",\n          icon: \"pi pi-times\",\n          onClick: disableReservationPopup,\n          style: {\n            display: 'inline'\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 73,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 71,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 13\n    }, this);\n  };\n\n  const disableReservationPopup = e => {\n    e.preventDefault();\n    console.log(\"Click back reservation\");\n    setNumberOfPeople(0);\n    setDates([]);\n    setEnableReservation(false);\n  };\n\n  const submitReservation = e => {\n    e.preventDefault();\n    setShowMessage(true);\n\n    if (dates != undefined) {\n      createNewBooking({\n        startDate: dates[0],\n        endDate: dates[1],\n        phone: phone,\n        message: message,\n        peopleNo: numberOfPeople.toString(),\n        houseId: houseId\n      });\n      navigate('/bookings-guest');\n    }\n  };\n\n  const onHide = () => {\n    setEnableReservation(false);\n    setNumberOfPeople(0);\n    setDates([]);\n    setShowMessage(false);\n  };\n\n  const goToRequests = e => {\n    setShowMessage(false);\n    navigate(\"/bookings-guest\");\n  };\n\n  const setReservationClicked = id => {\n    setEnableReservation(true);\n    setHouseId(id);\n  };\n\n  const dialogFooter = /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"flex justify-content-center\",\n    children: /*#__PURE__*/_jsxDEV(Button, {\n      label: \"OK\",\n      className: \"p-button-text\",\n      onClick: goToRequests\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 119,\n      columnNumber: 71\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 119,\n    columnNumber: 26\n  }, this);\n\n  const renderGridItem = data => {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"col-12 md:col-4\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"product-grid-item card\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"product-grid-item-top\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"i\", {\n              className: \"pi pi-tag product-category-icon\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 127,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"product-category\",\n              children: data.city\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 128,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 126,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 125,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"product-grid-item-content\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"image-wrapper\",\n            style: {\n              backgroundImage: `url(${data.image})`\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 132,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"product-description\",\n            children: data.name\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 135,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"rowC\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              style: {\n                width: \"30%\"\n              },\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"rowC\",\n                style: {\n                  width: \"100%\"\n                },\n                children: [/*#__PURE__*/_jsxDEV(\"i\", {\n                  className: \"pi pi-map-marker product-category-icon\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 140,\n                  columnNumber: 37\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  children: data.city\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 141,\n                  columnNumber: 37\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 139,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"rowC\",\n                style: {\n                  width: \"100%\"\n                },\n                children: [/*#__PURE__*/_jsxDEV(\"i\", {\n                  className: \"pi pi-users product-category-icon\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 145,\n                  columnNumber: 37\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  children: [\" \", data.capacity, \" people capacity\"]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 146,\n                  columnNumber: 37\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 144,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"rowC\",\n                style: {\n                  width: \"100%\"\n                },\n                children: [/*#__PURE__*/_jsxDEV(\"i\", {\n                  className: \"pi pi-calendar-times product-category-icon\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 150,\n                  columnNumber: 37\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  children: [\" \", data.bookingPeriod, \" days\"]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 151,\n                  columnNumber: 37\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 149,\n                columnNumber: 33\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 138,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              style: {\n                width: \"65%\",\n                height: '5rem',\n                marginRight: '1rem'\n              },\n              className: \"medium-writing\",\n              children: [\" \\\"\", /*#__PURE__*/_jsxDEV(\"i\", {\n                children: [\" \", data.description, \" \\\"\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 155,\n                columnNumber: 125\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 155,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 137,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"product-grid-item-bottom \",\n            style: {\n              marginTop: '0rem',\n              marginLeft: \"11.5rem\",\n              alignContent: 'center !important',\n              justifyContent: 'center !important'\n            },\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              children: [/*#__PURE__*/_jsxDEV(Button, {\n                icon: \"pi pi-info-circle\",\n                label: \"Create request\",\n                onClick: () => setReservationClicked(data.id)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 161,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(Dialog, {\n                header: \"Ask for accomodation\",\n                className: \"reservation-card\",\n                visible: enableReservation,\n                position: \"right\",\n                onHide: () => onHide(),\n                breakpoints: {\n                  '960px': '75vw'\n                },\n                footer: renderFooter('displayResponsive')\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 162,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(Dialog, {\n                visible: showMessage,\n                onHide: () => setShowMessage(false),\n                position: \"top\",\n                footer: dialogFooter,\n                showHeader: false,\n                breakpoints: {\n                  '960px': '80vw'\n                },\n                style: {\n                  width: '30vw'\n                },\n                children: /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"flex align-items-center flex-column pt-6 px-3\",\n                  children: [/*#__PURE__*/_jsxDEV(\"i\", {\n                    className: \"pi pi-check-circle\",\n                    style: {\n                      fontSize: '5rem',\n                      color: 'var(--green-500)'\n                    }\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 168,\n                    columnNumber: 41\n                  }, this), /*#__PURE__*/_jsxDEV(\"h5\", {\n                    children: \"Request for Booking successful!\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 169,\n                    columnNumber: 41\n                  }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                    style: {\n                      lineHeight: 1.5,\n                      textIndent: '1rem'\n                    },\n                    children: [\"Your accomodation request is registered under name \", /*#__PURE__*/_jsxDEV(\"b\", {\n                      children: [\" \", user.username]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 171,\n                      columnNumber: 96\n                    }, this), \". \"]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 170,\n                    columnNumber: 41\n                  }, this), \" \", /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 171,\n                    columnNumber: 126\n                  }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                    style: {\n                      lineHeight: 1.5,\n                      textIndent: '1rem'\n                    },\n                    children: \"When the owner checks your request, you will see the status on the reservations tab.\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 172,\n                    columnNumber: 41\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 167,\n                  columnNumber: 37\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 166,\n                columnNumber: 33\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 160,\n              columnNumber: 29\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 159,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 131,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 124,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 123,\n      columnNumber: 13\n    }, this);\n  };\n\n  const itemTemplate = (product, layout) => {\n    if (!product) {\n      return;\n    } else return renderGridItem(product);\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"dataview-demo\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"card\",\n      children: /*#__PURE__*/_jsxDEV(DataView, {\n        value: houses,\n        layout: layout,\n        itemTemplate: itemTemplate\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 197,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 196,\n      columnNumber: 13\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 195,\n    columnNumber: 9\n  }, this);\n};\n\nexport default Houses;","map":null,"metadata":{},"sourceType":"module"}